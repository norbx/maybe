<%# locals: (model:, account:) %>

<%= styled_form_with url: prices_path(account_id: account&.id), scope: :model do |form| %>
  <div class="space-y-4">
    <% if model.errors.any? %>
      <%= render "shared/form_errors", model: model %>
    <% end %>

    <div class="space-y-2">
      <%= form.select :security_id, @account.current_securities.map(&:as_option), label: t(".security") %>

      <%= form.date_field :date, label: true, value: Date.current, required: true %>

      <%= form.money_field :price, label: t(".new_price"), default_currency: account.currency, required: true %>
    </div>

    <%= form.submit t(".submit") %>
  </div>
<% end %>
